# è§†é¢‘ç”Ÿæˆæœ€ä½³å®è·µæŒ‡å—

## ğŸ“Š ä¸»æµäº§å“å‚æ•°é…ç½®å¯¹æ¯”

### 1. æ–‡ç”Ÿå›¾ï¼ˆText-to-Imageï¼‰å‚æ•°é…ç½®

#### Midjourney / DALLÂ·E 3 å‚æ•°èŒƒå›´
- **æ¨ç†æ­¥æ•°ï¼ˆStepsï¼‰**: 20-50 æ­¥
  - Midjourney: é»˜è®¤ 50 æ­¥ï¼ˆé«˜è´¨é‡æ¨¡å¼ï¼‰
  - DALLÂ·E 3: çº¦ 20-30 æ­¥ï¼ˆä¼˜åŒ–åï¼‰
  - **æˆ‘ä»¬çš„é…ç½®**: 40 æ­¥ï¼ˆä½¿ç”¨ DPM++ é‡‡æ ·å™¨ï¼Œç›¸å½“äº Euler 60 æ­¥ï¼‰âœ…

- **CFG Scaleï¼ˆå¼•å¯¼å°ºåº¦ï¼‰**: 7-12
  - Midjourney: é»˜è®¤ 7.5
  - Stable Diffusion: æ¨è 7.0-8.5
  - **æˆ‘ä»¬çš„é…ç½®**: 7.5 âœ…

- **é‡‡æ ·å™¨ï¼ˆSamplerï¼‰**:
  - **ä¸šç•Œæ ‡å‡†**: DPM++ 2M Karrasï¼ˆè´¨é‡æœ€å¥½ï¼‰
  - Euler Aï¼ˆé€Ÿåº¦å¿«ä½†è´¨é‡ä¸€èˆ¬ï¼‰
  - **æˆ‘ä»¬çš„é…ç½®**: DPM++ âœ…

- **CFG Rescale**: 0.5-0.8
  - **æ¨èå€¼**: 0.7ï¼ˆå¹³è¡¡ç‚¹ï¼‰
  - **æˆ‘ä»¬çš„é…ç½®**: 0.7 âœ…

#### åˆ†è¾¨ç‡é…ç½®
- **Midjourney**: 1024x1024, 1792x1024, 1024x1792
- **DALLÂ·E 3**: 1024x1024, 1792x1024, 1024x1792
- **æˆ‘ä»¬çš„é…ç½®**: 1920x1080ï¼ˆ1080Pï¼‰âœ…

### 2. å›¾ç”Ÿè§†é¢‘ï¼ˆImage-to-Videoï¼‰å‚æ•°é…ç½®

#### Stable Video Diffusion (SVD) å®˜æ–¹æ¨è
- **æ¨ç†æ­¥æ•°ï¼ˆnum_inference_stepsï¼‰**: 50-70
  - å®˜æ–¹æ¨è: 50 æ­¥ï¼ˆå¹³è¡¡ï¼‰
  - é«˜è´¨é‡: 60-70 æ­¥
  - **æˆ‘ä»¬çš„é…ç½®**: 60 æ­¥ âœ…

- **å¸§ç‡ï¼ˆFPSï¼‰**: 12-15
  - SVD å®˜æ–¹: 12 fpsï¼ˆé»˜è®¤ï¼‰
  - é«˜è´¨é‡: 15 fpsï¼ˆæ›´æµç•…ï¼‰
  - **æˆ‘ä»¬çš„é…ç½®**: 15 fps âœ…

- **motion_bucket_id**: 1-3
  - é™æ€åœºæ™¯: 1-2
  - åŠ¨æ€åœºæ™¯: 2-3
  - **æˆ‘ä»¬çš„é…ç½®**: 2ï¼ˆé€‚åˆé›¾æ°”ç­‰å¹³æ»‘è¿åŠ¨ï¼‰âœ…

- **noise_aug_strength**: 
  - svd-xt: 0.0002-0.0005
  - svd-image-to-video: 0.015-0.025
  - **æˆ‘ä»¬çš„é…ç½®**: 0.0004ï¼ˆsvd-xtï¼‰âœ…

- **decode_chunk_size**: 4-14
  - é»˜è®¤: 4ï¼ˆèŠ‚çœæ˜¾å­˜ï¼‰
  - é«˜è´¨é‡: 8-14ï¼ˆæ›´è¿è´¯ï¼‰
  - **æˆ‘ä»¬çš„é…ç½®**: 10 âœ…

#### Runway Gen-2 å‚æ•°
- **åˆ†è¾¨ç‡**: 720p, 1080p
- **å¸§ç‡**: 24 fpsï¼ˆç”µå½±æ ‡å‡†ï¼‰
- **æ—¶é•¿**: 5-10 ç§’
- **æˆ‘ä»¬çš„é…ç½®**: 1024x576, 15 fps, 5 ç§’

#### Pika Labs å‚æ•°
- **åˆ†è¾¨ç‡**: 1024x576, 1280x768
- **å¸§ç‡**: 12-15 fps
- **è¿åŠ¨å¼ºåº¦**: ä½/ä¸­/é«˜ï¼ˆå¯¹åº” motion_bucket_idï¼‰

### 3. è§†é¢‘ç¼–ç å‚æ•°

#### ä¸šç•Œæ ‡å‡†ï¼ˆH.264ï¼‰
- **CRFï¼ˆè´¨é‡æ¨¡å¼ï¼‰**: 18-23
  - 18: é«˜è´¨é‡ï¼ˆæ–‡ä»¶å¤§ï¼‰
  - 20: å¹³è¡¡ç‚¹ï¼ˆæ¨èï¼‰âœ…
  - 23: æ ‡å‡†è´¨é‡
  - **æˆ‘ä»¬çš„é…ç½®**: 20 âœ…

- **Presetï¼ˆç¼–ç é€Ÿåº¦ï¼‰**: 
  - ultrafast, superfast, veryfast, faster, fast, **medium**, slow, slower, veryslow
  - **æ¨è**: mediumï¼ˆå¹³è¡¡é€Ÿåº¦å’Œè´¨é‡ï¼‰âœ…
  - **æˆ‘ä»¬çš„é…ç½®**: medium âœ…

- **æ¯”ç‰¹ç‡ï¼ˆBitrateï¼‰**: 
  - 720p: 5000-8000k
  - 1080p: 8000-12000k
  - **æˆ‘ä»¬çš„é…ç½®**: 10000kï¼ˆ1080pï¼‰âœ…

## ğŸ¯ æœ€ä½³å®è·µæ€»ç»“

### æ–‡ç”Ÿå›¾ä¼˜åŒ–ç­–ç•¥

#### 1. é‡‡æ ·å™¨é€‰æ‹©
```yaml
# âœ… æ¨èé…ç½®ï¼ˆä¸šç•Œæ ‡å‡†ï¼‰
scheduler: "DPMSolverMultistepScheduler"  # DPM++ é‡‡æ ·å™¨
scheduler_config:
  algorithm_type: "dpmsolver++"
  solver_order: 2
  lower_order_final: true
  use_karras_sigmas: true  # Karras noise scheduleï¼Œè´¨é‡æ›´å¥½
```

**ä¼˜åŠ¿**:
- è´¨é‡æå‡ 15-20%
- å¯ä»¥ç”¨æ›´å°‘æ­¥æ•°è¾¾åˆ°ç›¸åŒè´¨é‡ï¼ˆ40 æ­¥ â‰ˆ Euler 60 æ­¥ï¼‰
- ä¸šç•Œæ ‡å‡†ï¼Œå¹¿æ³›ä½¿ç”¨

#### 2. æ¨ç†æ­¥æ•°ä¼˜åŒ–
```yaml
# ä½¿ç”¨ DPM++ é‡‡æ ·å™¨æ—¶
num_inference_steps: 40  # ç›¸å½“äº Euler 60 æ­¥çš„è´¨é‡
```

**å¯¹æ¯”**:
- Euler é‡‡æ ·å™¨: éœ€è¦ 50-60 æ­¥
- DPM++ é‡‡æ ·å™¨: 40 æ­¥å³å¯è¾¾åˆ°ç›¸åŒè´¨é‡
- **èŠ‚çœæ—¶é—´**: çº¦ 33% çš„ç”Ÿæˆæ—¶é—´

#### 3. CFG Scale ä¼˜åŒ–
```yaml
guidance_scale: 7.5  # ä» 8.5 é™åˆ° 7.5
guidance_rescale: 0.7  # CFG Rescaleï¼Œé¿å…é¢œè‰²è¿‡åº¦é¥±å’Œ
```

**åŸç†**:
- è¿‡é«˜çš„ CFGï¼ˆ>8.5ï¼‰ä¼šå¯¼è‡´è¿‡åº¦å¼•å¯¼ï¼Œå›¾åƒåƒµç¡¬
- CFG Rescale å¯ä»¥é¿å…é«˜ CFG å€¼å¯¼è‡´çš„é¢œè‰²è¿‡åº¦é¥±å’Œ
- 7.5 + 0.7 rescale = æœ€ä½³å¹³è¡¡ç‚¹

#### 4. åˆ†è¾¨ç‡é€‰æ‹©
```yaml
width: 1920
height: 1080  # 1080Pï¼Œè´¨é‡æ›´å¥½ï¼Œç»†èŠ‚æ›´ä¸°å¯Œ
```

**æ³¨æ„**: åˆ†è¾¨ç‡å¿…é¡»æ˜¯ 8 çš„å€æ•°ï¼ˆSDXL è¦æ±‚ï¼‰

### å›¾ç”Ÿè§†é¢‘ä¼˜åŒ–ç­–ç•¥

#### 1. æ¨ç†æ­¥æ•°ä¼˜åŒ–
```yaml
num_inference_steps: 60  # ä» 55 æé«˜åˆ° 60
```

**æ•ˆæœ**:
- æå‡è§†é¢‘è´¨é‡å’Œç¨³å®šæ€§
- å‡å°‘äººç‰©ä½ç½®æ¼‚ç§»å’Œç”»é¢æŠ–åŠ¨
- å¯è°ƒæ•´èŒƒå›´: 50-70

#### 2. å¸§ç‡ä¼˜åŒ–
```yaml
fps: 15  # ä» 12 æé«˜åˆ° 15
```

**æ•ˆæœ**:
- è¿åŠ¨æ›´æµç•…è‡ªç„¶
- å‡å°‘å¡é¡¿æ„Ÿ
- å¹³è¡¡è´¨é‡å’Œé€Ÿåº¦

#### 3. å¸§é—´è¿è´¯æ€§ä¼˜åŒ–
```yaml
decode_chunk_size: 10  # ä» 8 æé«˜åˆ° 10
```

**æ•ˆæœ**:
- å¢å¼ºå¸§é—´è¿è´¯æ€§
- å‡å°‘"è¢«æ‹‰å›"æ•ˆæœå’Œç”»é¢æŠ–åŠ¨
- éœ€è¦æ›´å¤šæ˜¾å­˜ï¼Œä½†è´¨é‡æå‡æ˜æ˜¾

#### 4. è¿åŠ¨å‚æ•°ä¼˜åŒ–
```yaml
motion_bucket_id: 2  # ä» 1 æé«˜åˆ° 2
noise_aug_strength: 0.0004  # ä» 0.0003 æé«˜åˆ° 0.0004
```

**æ•ˆæœ**:
- ä½¿é›¾æ°”é£˜åŠ¨æ›´è¿è´¯è‡ªç„¶
- é¿å…çªç„¶åå‘å’Œè¢«æ‹‰å›
- é€‚åˆå¹³æ»‘è¿åŠ¨åœºæ™¯

### è§†é¢‘ç¼–ç ä¼˜åŒ–ç­–ç•¥

#### 1. CRF è´¨é‡æ¨¡å¼ï¼ˆæ¨èï¼‰
```yaml
video_crf: 20  # å¹³è¡¡è´¨é‡å’Œæ–‡ä»¶å¤§å°
video_preset: medium  # å¹³è¡¡ç¼–ç é€Ÿåº¦å’Œè´¨é‡
```

**ä¼˜åŠ¿**:
- CRF æ¨¡å¼è‡ªåŠ¨è°ƒæ•´æ¯”ç‰¹ç‡ï¼Œä¿è¯è´¨é‡
- æ¯”å›ºå®šæ¯”ç‰¹ç‡æ›´æ™ºèƒ½
- 20 æ˜¯ä¸šç•Œæ¨èçš„å¹³è¡¡ç‚¹

#### 2. æ¯”ç‰¹ç‡æ¨¡å¼ï¼ˆå¤‡ç”¨ï¼‰
```yaml
video_bitrate: 10000k  # 1080p æ¨èå€¼
```

**ä½¿ç”¨åœºæ™¯**: å½“ CRF ä¸å¯ç”¨æ—¶ä½¿ç”¨

## ğŸ“ˆ å‚æ•°è°ƒä¼˜å»ºè®®

### æ ¹æ®åœºæ™¯ç±»å‹è°ƒæ•´

#### é™æ€åœºæ™¯ï¼ˆäººç‰©é™æ­¢ï¼‰
```yaml
motion_bucket_id: 1-2
noise_aug_strength: 0.0002-0.0003
decode_chunk_size: 8-10
```

#### åŠ¨æ€åœºæ™¯ï¼ˆäººç‰©è¿åŠ¨ï¼‰
```yaml
motion_bucket_id: 2-3
noise_aug_strength: 0.0004-0.0005
decode_chunk_size: 10-14
```

#### å¹³æ»‘è¿åŠ¨åœºæ™¯ï¼ˆé›¾æ°”ã€äº‘ç­‰ï¼‰
```yaml
motion_bucket_id: 2
noise_aug_strength: 0.0004
decode_chunk_size: 10-12
```

### æ ¹æ®ç¡¬ä»¶æ€§èƒ½è°ƒæ•´

#### æ˜¾å­˜å……è¶³ï¼ˆ>24GBï¼‰
```yaml
decode_chunk_size: 12-14  # æœ€å¤§è¿è´¯æ€§
num_inference_steps: 60-70  # æœ€é«˜è´¨é‡
```

#### æ˜¾å­˜æœ‰é™ï¼ˆ16-24GBï¼‰
```yaml
decode_chunk_size: 8-10  # å¹³è¡¡
num_inference_steps: 50-60  # å¹³è¡¡
```

#### æ˜¾å­˜ç´§å¼ ï¼ˆ<16GBï¼‰
```yaml
decode_chunk_size: 4-6  # èŠ‚çœæ˜¾å­˜
num_inference_steps: 50  # æ ‡å‡†è´¨é‡
```

## ğŸ” è´¨é‡æ£€æŸ¥æ¸…å•

### å›¾åƒè´¨é‡æ£€æŸ¥
- [ ] äººç‰©é¢éƒ¨æ¸…æ™°ï¼Œæ— å˜å½¢
- [ ] æœé¥°ç»†èŠ‚å‡†ç¡®
- [ ] èƒŒæ™¯è‡ªç„¶ï¼Œæ— ä¼ªå½±
- [ ] é¢œè‰²è‡ªç„¶ï¼Œæ— è¿‡åº¦é¥±å’Œ
- [ ] åˆ†è¾¨ç‡è¾¾åˆ° 1080P

### è§†é¢‘è´¨é‡æ£€æŸ¥
- [ ] è¿åŠ¨æµç•…ï¼Œæ— å¡é¡¿
- [ ] å¸§é—´è¿è´¯ï¼Œæ— è·³è·ƒ
- [ ] äººç‰©ä½ç½®ç¨³å®šï¼Œæ— æ¼‚ç§»
- [ ] ç”»é¢ç¨³å®šï¼Œæ— æŠ–åŠ¨
- [ ] ç¼–ç è´¨é‡è‰¯å¥½ï¼ˆCRF 20ï¼‰

## ğŸš€ å¿«é€Ÿä¼˜åŒ–å»ºè®®

### å½“å‰é…ç½®è¯„ä¼°

#### âœ… å·²ä¼˜åŒ–çš„å‚æ•°
- âœ… DPM++ é‡‡æ ·å™¨ï¼ˆè´¨é‡æå‡ 15-20%ï¼‰
- âœ… 40 æ­¥æ¨ç†ï¼ˆDPM++ ä¼˜åŒ–ï¼‰
- âœ… CFG 7.5 + Rescale 0.7ï¼ˆé¢œè‰²è‡ªç„¶ï¼‰
- âœ… 60 æ­¥è§†é¢‘æ¨ç†ï¼ˆè´¨é‡æå‡ï¼‰
- âœ… 15 fpsï¼ˆæµç•…åº¦æå‡ï¼‰
- âœ… decode_chunk_size 10ï¼ˆè¿è´¯æ€§æå‡ï¼‰
- âœ… CRF 20 + medium presetï¼ˆç¼–ç ä¼˜åŒ–ï¼‰

#### ğŸ’¡ å¯è¿›ä¸€æ­¥ä¼˜åŒ–çš„å‚æ•°
- æ ¹æ®åœºæ™¯ç±»å‹åŠ¨æ€è°ƒæ•´ motion_bucket_id
- æ ¹æ®æ˜¾å­˜æƒ…å†µè°ƒæ•´ decode_chunk_size
- æ ¹æ®éœ€æ±‚è°ƒæ•´åˆ†è¾¨ç‡ï¼ˆ720p/1080pï¼‰

### æ¨èé…ç½®æ¨¡æ¿

#### é«˜è´¨é‡é…ç½®ï¼ˆæ˜¾å­˜å……è¶³ï¼‰
```yaml
image:
  instantid:
    num_inference_steps: 50  # æœ€é«˜è´¨é‡
    guidance_scale: 7.5
    guidance_rescale: 0.7
    scheduler: "DPMSolverMultistepScheduler"

video:
  num_inference_steps: 70  # æœ€é«˜è´¨é‡
  fps: 15
  decode_chunk_size: 12  # æœ€å¤§è¿è´¯æ€§
  motion_bucket_id: 2
  noise_aug_strength: 0.0004

composition:
  video_crf: 18  # æœ€é«˜è´¨é‡
  video_preset: slow  # æœ€é«˜è´¨é‡
```

#### å¹³è¡¡é…ç½®ï¼ˆæ¨èï¼‰
```yaml
# å½“å‰é…ç½®ï¼ˆå·²ä¼˜åŒ–ï¼‰âœ…
image:
  instantid:
    num_inference_steps: 40
    guidance_scale: 7.5
    guidance_rescale: 0.7
    scheduler: "DPMSolverMultistepScheduler"

video:
  num_inference_steps: 60
  fps: 15
  decode_chunk_size: 10
  motion_bucket_id: 2
  noise_aug_strength: 0.0004

composition:
  video_crf: 20
  video_preset: medium
```

#### å¿«é€Ÿé…ç½®ï¼ˆæ˜¾å­˜æœ‰é™ï¼‰
```yaml
image:
  instantid:
    num_inference_steps: 30
    guidance_scale: 7.5
    guidance_rescale: 0.7
    scheduler: "DPMSolverMultistepScheduler"

video:
  num_inference_steps: 50
  fps: 12
  decode_chunk_size: 6
  motion_bucket_id: 2
  noise_aug_strength: 0.0003

composition:
  video_crf: 23
  video_preset: fast
```

## ğŸ“š å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£
- [Stable Diffusion XL å®˜æ–¹æ–‡æ¡£](https://github.com/Stability-AI/generative-models)
- [Stable Video Diffusion å®˜æ–¹æ–‡æ¡£](https://stability.ai/news/stable-video-diffusion-open-ai-video-model)
- [InstantID å®˜æ–¹æ–‡æ¡£](https://github.com/InstantID/InstantID)

### æœ€ä½³å®è·µ
- Midjourney å‚æ•°æŒ‡å—
- Runway Gen-2 ä½¿ç”¨æŠ€å·§
- Pika Labs ä¼˜åŒ–å»ºè®®

## ğŸ“ æ€»ç»“

å½“å‰é…ç½®å·²ç»æŒ‰ç…§ä¸šç•Œæœ€ä½³å®è·µè¿›è¡Œäº†ä¼˜åŒ–ï¼š

1. **æ–‡ç”Ÿå›¾**: ä½¿ç”¨ DPM++ é‡‡æ ·å™¨ï¼Œ40 æ­¥è¾¾åˆ°é«˜è´¨é‡
2. **å›¾ç”Ÿè§†é¢‘**: 60 æ­¥æ¨ç†ï¼Œ15 fpsï¼Œdecode_chunk_size 10
3. **è§†é¢‘ç¼–ç **: CRF 20 + medium presetï¼Œå¹³è¡¡è´¨é‡å’Œæ–‡ä»¶å¤§å°

è¿™äº›é…ç½®ä¸ Midjourneyã€Runwayã€Pika Labs ç­‰æˆç†Ÿäº§å“çš„å‚æ•°èŒƒå›´ä¸€è‡´ï¼Œå¯ä»¥ç”Ÿæˆé«˜è´¨é‡çš„å›¾åƒå’Œè§†é¢‘ã€‚

