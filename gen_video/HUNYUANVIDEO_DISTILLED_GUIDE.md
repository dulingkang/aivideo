# HunyuanVideo 蒸馏版本使用指南

## 📦 模型信息

### 当前使用模型
- **模型名称**: `HunyuanVideo-1.5-Diffusers-480p_i2v_step_distilled`
- **模型类型**: 蒸馏版本（Distilled）
- **分辨率**: 480p（适合640×480）
- **功能**: 图生视频（Image-to-Video）

### 模型路径
```
/vepfs-dev/shawn/vid/fanren/gen_video/models/HunyuanVideo-1.5-Diffusers-480p_i2v_step_distilled
```

## 🚀 蒸馏版本优势

### 1. 速度优势
- **标准版本**: 需要30-40步才能达到良好质量
- **蒸馏版本**: 只需要15-25步就能达到同样效果
- **速度提升**: 约 **40-50%** 更快

### 2. 显存优势
- 推理步数减少，显存占用更低
- 适合批量生成场景

### 3. 质量对比
- **15步**: 快速测试，质量可接受
- **20步**: 平衡质量和速度（推荐日常使用）
- **25步**: 推荐用于生产（质量好，速度快）✅ 当前配置
- **30步**: 高质量（如果需要更高质量）

## ⚙️ 配置说明

### 当前配置（config.yaml）

```yaml
hunyuanvideo:
  model_path: /vepfs-dev/shawn/vid/fanren/gen_video/models/HunyuanVideo-1.5-Diffusers-480p_i2v_step_distilled
  num_inference_steps: 25  # 蒸馏版本推荐25步（标准版本需要40步）
  width: 640
  height: 480
  num_frames: 24
  fps: 24
```

### 步数建议

| 步数 | 适用场景 | 质量 | 速度 |
|------|---------|------|------|
| 15步 | 快速测试 | 可接受 | 最快 |
| 20步 | 日常使用 | 良好 | 快 |
| 25步 | 生产环境 | 很好 | 较快 ✅ |
| 30步 | 高质量需求 | 优秀 | 中等 |

## 📊 性能对比

### 标准版本 vs 蒸馏版本

| 项目 | 标准版本 | 蒸馏版本 | 提升 |
|------|---------|---------|------|
| 推荐步数 | 40步 | 25步 | 37.5% |
| 生成时间（25步） | - | ~20分钟 | - |
| 生成时间（40步） | ~32分钟 | ~32分钟 | - |
| 显存占用 | 较高 | 较低 | ~10% |

## 🎯 使用建议

### 1. 快速测试
```yaml
num_inference_steps: 15  # 快速测试
```

### 2. 日常使用（推荐）
```yaml
num_inference_steps: 20  # 平衡质量和速度
```

### 3. 生产环境（当前配置）
```yaml
num_inference_steps: 25  # 质量好，速度快
```

### 4. 高质量需求
```yaml
num_inference_steps: 30  # 如果需要更高质量
```

## ⚠️ 注意事项

1. **分辨率限制**: 蒸馏版本是480p模型，适合640×480分辨率
2. **步数选择**: 蒸馏版本可以用标准版本一半的步数达到同样效果
3. **质量权衡**: 如果对质量要求极高，可以适当增加步数到30步
4. **批量生成**: 蒸馏版本非常适合批量生成场景，速度快

## 🔄 切换回标准版本

如果需要使用标准版本，修改配置：

```yaml
hunyuanvideo:
  model_path: /vepfs-dev/shawn/vid/fanren/gen_video/models/HunyuanVideo-1.5-Diffusers-480p_i2v
  num_inference_steps: 40  # 标准版本推荐40步
```

## 📝 总结

蒸馏版本的主要优势：
- ✅ **速度快**: 用更少步数达到同样效果
- ✅ **显存低**: 步数减少，显存占用更低
- ✅ **适合批量**: 非常适合批量生成场景
- ✅ **质量好**: 25步就能达到很好的质量

当前配置使用25步，在质量和速度之间取得了很好的平衡。

