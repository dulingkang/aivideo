# è§’è‰²å’Œåœºæ™¯æ¨¡æ¿ç³»ç»Ÿä½¿ç”¨è¯´æ˜

## ğŸ“‹ æ¦‚è¿°

ä¸ºäº†è§£å†³äººç‰©ç¨³å®šæ€§å’Œåœºæ™¯ä¸€è‡´æ€§é—®é¢˜ï¼Œæˆ‘ä»¬å®ç°äº†**è§’è‰²æ¨¡æ¿ï¼ˆCharacter Profileï¼‰**å’Œ**åœºæ™¯æ¨¡æ¿ï¼ˆScene Style Profileï¼‰**ç³»ç»Ÿã€‚

## ğŸ¯ åŠŸèƒ½ç‰¹ç‚¹

### 1. **è§’è‰²æ¨¡æ¿** (`character_profiles.yaml`)
- ç¡®ä¿è§’è‰²åœ¨ä¸åŒåœºæ™¯ä¸­çš„ä¸€è‡´æ€§ï¼ˆè„¸å‹ã€å‘å‹ã€æœé¥°ç­‰ï¼‰
- è‡ªåŠ¨æ³¨å…¥åˆ°æ¯ä¸ªåŒ…å«è§’è‰²çš„åœºæ™¯ prompt ä¸­
- é«˜æƒé‡æè¿°ï¼Œç¡®ä¿è§’è‰²ç‰¹å¾ä¸è¢«å¿½ç•¥

### 2. **åœºæ™¯æ¨¡æ¿** (`scene_profiles.yaml`)
- ç¡®ä¿åŒä¸€åœºæ™¯ç³»åˆ—ä¸­èƒŒæ™¯çš„ä¸€è‡´æ€§
- ç»Ÿä¸€é¢œè‰²è°ƒè‰²æ¿ã€åœ°å½¢åœ°è²Œã€å¤©ç©ºã€æ°›å›´
- è‡ªåŠ¨åŒ¹é…è„šæœ¬çš„ episode æˆ– title

## ğŸ“ æ–‡ä»¶ç»“æ„

```
gen_video/
â”œâ”€â”€ character_profiles.yaml  # è§’è‰²æ¨¡æ¿é…ç½®
â”œâ”€â”€ scene_profiles.yaml      # åœºæ™¯æ¨¡æ¿é…ç½®
â””â”€â”€ image_generator.py       # è‡ªåŠ¨åŠ è½½å’Œåº”ç”¨æ¨¡æ¿
```

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### 1. è§’è‰²æ¨¡æ¿é…ç½®

ç¼–è¾‘ `character_profiles.yaml`ï¼š

```yaml
characters:
  hanli:
    character_name: "éŸ©ç«‹"
    identity: "ç”·ã€é’å¹´ä¿®å£«ï¼Œæ²‰ç¨³å†·é™ã€é¢å®¹ä¿Šæœ—ä½†ä¸å¼ æ‰¬"
    
    face_shape: "å‰‘çœ‰ã€æ·±é‚ƒçœ¼å½¢ã€è½®å»“åˆ†æ˜ä½†åæ¸…ç§€"
    face_keywords: "calm focused eyes, natural skin tone, composed expression"
    
    hair:
      style: "é•¿å‘æŸèµ·ï¼Œå‰é¢ç•¥æœ‰ç¢å‘"
      color: "ä¹Œé»‘"
      prompt_keywords: "(long black hair:1.6), (traditional chinese hairstyle:1.4)"
    
    clothes:
      style: "ä¿®å£«é•¿è¢"
      color: "æ·±é’è‰² + å¢¨è‰²çº¹è·¯"
      prompt_keywords: "(dark green traditional robe:1.6), (dark cyan cultivator robe:1.5)"
```

### 2. åœºæ™¯æ¨¡æ¿é…ç½®

ç¼–è¾‘ `scene_profiles.yaml`ï¼š

```yaml
scenes:
  qingluo_desert:
    scene_name: "é’ç½—æ²™æ¼ "
    episode: 5  # åŒ¹é…è„šæœ¬çš„ episode å­—æ®µ
    
    color_palette:
      prompt: "(golden sand:1.4), (warm orange tones:1.3), (no white sand, no red sand:1.3)"
    
    terrain:
      prompt: "(rolling sand waves:1.3), (vast golden desert:1.4)"
    
    sky:
      prompt: "(intense sunlight:1.3), (heat haze:1.2), (clear bright sky:1.2)"
    
    atmosphere:
      prompt: "(arid atmosphere:1.2), (vast empty landscape:1.3), (subtle spiritual energy:1.1)"
```

## ğŸš€ è‡ªåŠ¨åº”ç”¨

ç³»ç»Ÿä¼šåœ¨ç”Ÿæˆå›¾åƒæ—¶è‡ªåŠ¨ï¼š

1. **åŠ è½½æ¨¡æ¿**ï¼šåˆå§‹åŒ–æ—¶è‡ªåŠ¨åŠ è½½ `character_profiles.yaml` å’Œ `scene_profiles.yaml`
2. **åŒ¹é…åœºæ™¯**ï¼šæ ¹æ®è„šæœ¬çš„ `episode` æˆ– `title` è‡ªåŠ¨åŒ¹é…åœºæ™¯æ¨¡æ¿
3. **æ³¨å…¥ prompt**ï¼š
   - è§’è‰²æ¨¡æ¿ â†’ è‡ªåŠ¨æ·»åŠ åˆ°åŒ…å«è§’è‰²çš„åœºæ™¯
   - åœºæ™¯æ¨¡æ¿ â†’ è‡ªåŠ¨æ·»åŠ åˆ°æ‰€æœ‰åœºæ™¯çš„èƒŒæ™¯æè¿°

## ğŸ“Š æ•ˆæœ

### è§’è‰²ä¸€è‡´æ€§
- âœ… å‘å‹å›ºå®šï¼š`(long black hair:1.6)` é«˜æƒé‡
- âœ… æœé¥°å›ºå®šï¼š`(dark green traditional robe:1.6)` é«˜æƒé‡
- âœ… é¢éƒ¨ç‰¹å¾ç¨³å®šï¼š`calm focused eyes, composed expression`

### åœºæ™¯ä¸€è‡´æ€§
- âœ… é¢œè‰²ç»Ÿä¸€ï¼šå¼ºåˆ¶ä½¿ç”¨é‡‘é»„/æš–æ©™è‰²ç³»
- âœ… åœ°å½¢ç»Ÿä¸€ï¼šè¿ç»µæ²™ä¸˜ã€å¹²ç‡¥ç©ºæ°”
- âœ… æ°›å›´ç»Ÿä¸€ï¼šå¹²æ—±ã€ç©ºæ—·ã€ç¥ç§˜çµæ°”

## ğŸ” è°ƒè¯•

ç”Ÿæˆå›¾åƒæ—¶ä¼šæ˜¾ç¤ºï¼š

```
[è§’è‰²æ¨¡æ¿] å·²åŠ è½½ 1 ä¸ªè§’è‰²æ¨¡æ¿
[åœºæ™¯æ¨¡æ¿] å·²åŠ è½½ 1 ä¸ªåœºæ™¯æ¨¡æ¿
  âœ“ åŒ¹é…åˆ°åœºæ™¯æ¨¡æ¿: é’ç½—æ²™æ¼ 
  âœ“ åº”ç”¨è§’è‰²æ¨¡æ¿: éŸ©ç«‹
  âœ“ åº”ç”¨åœºæ™¯èƒŒæ™¯æ¨¡æ¿: é’ç½—æ²™æ¼ Â·åˆè‡³é—è¿¹
```

## ğŸ“ æ‰©å±•

### æ·»åŠ æ–°è§’è‰²

åœ¨ `character_profiles.yaml` ä¸­æ·»åŠ ï¼š

```yaml
characters:
  new_character:
    character_name: "æ–°è§’è‰²"
    # ... é…ç½®è§’è‰²ç‰¹å¾
```

### æ·»åŠ æ–°åœºæ™¯

åœ¨ `scene_profiles.yaml` ä¸­æ·»åŠ ï¼š

```yaml
scenes:
  new_scene:
    scene_name: "æ–°åœºæ™¯"
    episode: 6  # æˆ–ä½¿ç”¨ title åŒ¹é…
    # ... é…ç½®åœºæ™¯ç‰¹å¾
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æƒé‡è®¾ç½®**ï¼šè§’è‰²å’Œåœºæ™¯æ¨¡æ¿ä½¿ç”¨é«˜æƒé‡ï¼ˆ1.3-1.6ï¼‰ï¼Œç¡®ä¿ç‰¹å¾ä¸è¢«å¿½ç•¥
2. **æ¨¡æ¿åŒ¹é…**ï¼šåœºæ™¯æ¨¡æ¿ä¼˜å…ˆåŒ¹é… `episode`ï¼Œå…¶æ¬¡åŒ¹é… `title`
3. **å…œåº•æœºåˆ¶**ï¼šå¦‚æœæ¨¡æ¿ä¸å­˜åœ¨ï¼Œä¼šä½¿ç”¨é»˜è®¤é…ç½®ï¼Œä¸ä¼šæŠ¥é”™

## ğŸ¯ ä¸‹ä¸€æ­¥

- [ ] å®ç°å‚è€ƒå›¾åƒç¼“å­˜æœºåˆ¶ï¼ˆReference Cachingï¼‰
- [ ] æ·»åŠ æ›´å¤šè§’è‰²å’Œåœºæ™¯æ¨¡æ¿
- [ ] ä¼˜åŒ–æ¨¡æ¿åŒ¹é…é€»è¾‘
- [ ] æ”¯æŒå¤šè§’è‰²åœºæ™¯

