# 智能分析功能使用说明

## 问题说明

`video_generator.py` 文件被意外覆盖，需要恢复。同时，我们创建了独立的智能分析模块来解决JSON描述不够精确的问题。

## 解决方案

### 方案1：使用智能分析模块（推荐）

已创建 `scene_motion_analyzer.py` 模块，可以在视频生成时自动分析JSON描述并推断：

1. **物体运动检测**：自动识别"展开"、"unfurling"、"打开"、"旋转"等关键词
2. **镜头运动推断**：从description、camera、motion字段自动推断
3. **运动强度判断**：根据动作类型自动设置参数

### 方案2：优化JSON描述

根据 `JSON场景描述优化指南.md` 优化JSON，确保：
- `description` 中包含明确的动作描述（如"卷轴舒展开来"）
- `visual.composition` 中包含物体运动（如"scroll unfurling"）
- `visual.fx` 中包含特效和运动（如"unfurling effect"）
- `visual.motion.type` 不为"static"（当有物体运动时）

## 当前状态

⚠️ **重要**：`video_generator.py` 文件需要恢复。建议：

1. 如果有备份，从备份恢复
2. 如果没有备份，需要重新实现VideoGenerator类

## 下一步

1. 恢复 `video_generator.py` 文件
2. 在 `video_generator.py` 中集成 `scene_motion_analyzer.py`
3. 在 `generate_video` 方法中调用智能分析，根据分析结果调整参数

## 临时解决方案

在恢复 `video_generator.py` 之前，可以：

1. 手动优化JSON描述（参考 `JSON场景描述优化指南.md`）
2. 确保有物体运动的场景，`motion.type` 不为"static"
3. 在描述中明确包含动作关键词（如"展开"、"unfurling"等）

