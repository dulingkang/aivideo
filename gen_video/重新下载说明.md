# é‡æ–°ä¸‹è½½è¯´æ˜

## âš ï¸ é‡è¦æç¤º

è™½ç„¶ä¸‹è½½è„šæœ¬æç¤º"å·²ä¸‹è½½"ï¼Œä½†éªŒè¯åå‘ç°**æ¨¡å‹æ–‡ä»¶å®é™…ä¸Šå¹¶ä¸å®Œæ•´**ã€‚

---

## ğŸ“Š å½“å‰çœŸå®çŠ¶æ€

| æ¨¡å‹ | ç›®å½•å¤§å° | å®é™…å†…å®¹ | çŠ¶æ€ |
|------|---------|---------|------|
| **SD3.5 Large Turbo** | 21 KB | åªæœ‰ LICENSE | âŒ **æœªä¸‹è½½** |
| **Flux.1** | 43 KB | åªæœ‰ç©ºç›®å½•ç»“æ„ | âŒ **æœªä¸‹è½½** |
| **Flux.2** | 320 MB | åªæœ‰ VAEï¼ˆae.safetensorsï¼‰ | âŒ **ä¸å®Œæ•´** |
| **Hunyuan-DiT** | 1.7 GB | åªæœ‰é…ç½®æ–‡ä»¶ï¼Œæ— æƒé‡æ–‡ä»¶ | âŒ **ä¸å®Œæ•´** |
| **Kolors** | 5.5 GB | å®Œæ•´ | âœ… **å®Œæ•´** |

---

## ğŸ” é—®é¢˜åŸå› 

ä¸‹è½½è„šæœ¬çš„æ£€æŸ¥é€»è¾‘è¿‡äºç®€å•ï¼š

```python
# æ—§é€»è¾‘ï¼ˆæœ‰é—®é¢˜ï¼‰
if local_dir.exists() and any(local_dir.iterdir()):
    print("âœ“ æ¨¡å‹å·²å­˜åœ¨ï¼Œè·³è¿‡ä¸‹è½½")
    return True
```

è¿™å¯¼è‡´ï¼š
- åªä¸‹è½½äº†å…ƒæ•°æ®æ–‡ä»¶ï¼ˆREADME, LICENSEï¼‰å°±è®¤ä¸ºå·²ä¸‹è½½
- å®é™…æ¨¡å‹æƒé‡æ–‡ä»¶ï¼ˆ.safetensors, .binï¼‰æ²¡æœ‰ä¸‹è½½

---

## âœ… å·²ä¿®å¤

å·²æ›´æ–°ä¸‹è½½è„šæœ¬ï¼ˆ`download_models.py`ï¼‰ï¼Œç°åœ¨ä¼šæ£€æŸ¥ï¼š
1. âœ… æ˜¯å¦æœ‰æƒé‡æ–‡ä»¶ï¼ˆ.safetensors, .bin, .ptï¼‰
2. âœ… æ˜¯å¦æœ‰é…ç½®æ–‡ä»¶ï¼ˆmodel_index.json æˆ– config.jsonï¼‰
3. âœ… æ–‡ä»¶æ€»å¤§å°æ˜¯å¦åˆç†ï¼ˆè‡³å°‘ 500MBï¼‰

ä¿®å¤åçš„è„šæœ¬ä¼šæ­£ç¡®æ£€æµ‹åˆ°æ¨¡å‹ä¸å®Œæ•´å¹¶é‡æ–°ä¸‹è½½ã€‚

---

## ğŸ¯ é‡æ–°ä¸‹è½½æ­¥éª¤

### æ–¹æ³• 1: ä½¿ç”¨ä¿®å¤åçš„è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
cd /vepfs-dev/shawn/vid/fanren/gen_video

# ä½¿ç”¨ proxychains4 ä¸‹è½½ï¼ˆéœ€è¦ä»£ç†ï¼‰
proxychains4 python download_models.py --model sd3-turbo
proxychains4 python download_models.py --model flux1
proxychains4 python download_models.py --model flux2
proxychains4 python download_models.py --model hunyuan-dit
```

### æ–¹æ³• 2: æ¸…ç†åé‡æ–°ä¸‹è½½

å¦‚æœä¸‹è½½è¿‡ç¨‹ä¸­æ–­ï¼Œå¯ä»¥æ¸…ç†ç¼“å­˜åé‡æ–°ä¸‹è½½ï¼š

```bash
cd /vepfs-dev/shawn/vid/fanren/gen_video

# æ¸…ç†ç¼“å­˜ï¼ˆå¯é€‰ï¼‰
rm -rf models/sd3-turbo/.cache
rm -rf models/flux1-dev/.cache
rm -rf models/flux2-dev/.cache
rm -rf models/hunyuan-dit/.cache

# é‡æ–°ä¸‹è½½
proxychains4 python download_models.py --model all
```

---

## ğŸ“ éªŒè¯ä¸‹è½½ç»“æœ

ä¸‹è½½å®Œæˆåï¼Œè¿è¡ŒéªŒè¯è„šæœ¬ï¼š

```bash
cd /vepfs-dev/shawn/vid/fanren/gen_video
./å¿«é€ŸéªŒè¯.sh
```

æˆ–æ‰‹åŠ¨éªŒè¯ï¼š

```bash
python3 << 'EOF'
from pathlib import Path

models = {
    'SD3.5 Large Turbo': Path('models/sd3-turbo'),
    'Flux.1': Path('models/flux1-dev'),
    'Flux.2': Path('models/flux2-dev'),
    'Hunyuan-DiT': Path('models/hunyuan-dit'),
    'Kolors': Path('models/kolors'),
}

print("=" * 70)
print("æ¨¡å‹éªŒè¯")
print("=" * 70)

for name, path in models.items():
    if path.exists():
        size = sum(f.stat().st_size for f in path.rglob('*') if f.is_file()) / (1024**3)
        weights = len(list(path.rglob('*.safetensors')) + list(path.rglob('*.bin')))
        config = (path / 'model_index.json').exists() or len(list(path.rglob('config.json'))) > 0
        
        if size > 1.0 and weights > 0 and config:
            print(f"âœ… {name}: {size:.2f} GB, {weights} æƒé‡æ–‡ä»¶")
        else:
            print(f"âŒ {name}: {size:.2f} GB, {weights} æƒé‡æ–‡ä»¶, é…ç½®: {config}")
    else:
        print(f"âŒ {name}: æœªä¸‹è½½")
EOF
```

---

## ğŸ’¡ é¢„æœŸç»“æœ

ä¸‹è½½å®Œæˆåï¼Œæ¨¡å‹åº”è¯¥è¾¾åˆ°ä»¥ä¸‹å¤§å°ï¼š

- **SD3.5 Large Turbo**: çº¦ 2-4 GB
- **Flux.1**: çº¦ 24 GB
- **Flux.2**: çº¦ 24 GB
- **Hunyuan-DiT**: çº¦ 20-30 GB
- **Kolors**: 5.5 GB âœ…ï¼ˆå·²å®Œæ•´ï¼‰

---

**æœ€åæ›´æ–°**: 2024å¹´12æœˆ


