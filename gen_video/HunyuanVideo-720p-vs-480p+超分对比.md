# HunyuanVideo: 720p直接生成 vs 480p+超分方案对比

## 📊 方案对比

### 方案1: 720p模型直接生成（当前方案）

**配置：**
- 模型：`hunyuanvideo-community/HunyuanVideo-1.5-Diffusers-720p_i2v`
- 输出分辨率：1280×768（720p）
- 推理步数：20步

**优点：**
- ✅ **质量最高**：原生720p，细节更清晰，无超分损失
- ✅ **流程简单**：一步到位，无需后处理
- ✅ **适合最终输出**：直接达到目标分辨率

**缺点：**
- ❌ **速度慢**：每步约41秒，20步约14分钟
- ❌ **显存占用大**：720p模型需要更多显存
- ❌ **成本高**：GPU时间更长

**时间估算（20步）：**
- 生成时间：约14分钟
- 总时间：**14分钟**

---

### 方案2: 480p模型 + Real-ESRGAN超分

**配置：**
- 模型：`hunyuanvideo-community/HunyuanVideo-1.5-Diffusers-480p_i2v`
- 输出分辨率：640×480（480p）
- 推理步数：20步
- 超分：Real-ESRGAN x2 → 1280×960（接近720p）或 x2.5 → 1600×1200

**优点：**
- ✅ **速度快**：480p生成更快（预计每步约25-30秒，20步约8-10分钟）
- ✅ **显存占用小**：480p模型更轻量
- ✅ **灵活**：可以超分到任意分辨率（720p、1080p等）
- ✅ **成本低**：GPU时间更短

**缺点：**
- ❌ **质量略低**：超分可能引入轻微伪影（但Real-ESRGAN质量很好）
- ❌ **流程复杂**：需要两步（生成+超分）
- ❌ **额外时间**：超分需要额外时间（约1.7分钟@x2，120帧）

**时间估算（20步 + 超分）：**
- 生成时间：约8-10分钟（480p更快）
- 超分时间：约1.7分钟（Real-ESRGAN x2，120帧@1.2帧/秒）
- 总时间：**约10-12分钟**（比720p快约2-4分钟）

---

## 🎯 推荐方案

### 场景1: **快速测试/开发阶段**
**推荐：480p + 超分**
- 速度快，节省开发时间
- 质量足够用于测试

### 场景2: **生产环境（批量生成）**
**推荐：480p + 超分**
- 成本更低（速度快）
- Real-ESRGAN质量已经很好，用户难以察觉差异
- 可以灵活调整最终分辨率

### 场景3: **最终输出（高质量要求）**
**推荐：720p直接生成**
- 质量最高，无超分损失
- 适合对质量要求极高的场景

---

## 📈 性能对比表

| 指标 | 720p直接生成 | 480p+超分 | 优势方 |
|------|------------|----------|--------|
| **生成时间（20步）** | ~14分钟 | ~8-10分钟 | 480p+超分 ⚡ |
| **超分时间** | 0分钟 | ~1.7分钟 | 720p直接 ✅ |
| **总时间** | ~14分钟 | ~10-12分钟 | 480p+超分 ⚡ |
| **质量** | 原生720p | 超分720p（略低） | 720p直接 ✅ |
| **显存占用** | 较高 | 较低 | 480p+超分 ✅ |
| **灵活性** | 固定720p | 可调分辨率 | 480p+超分 ✅ |
| **成本** | 较高 | 较低 | 480p+超分 ✅ |

---

## 💡 建议

**对于你的项目（商业化、批量生成）：**

1. **推荐使用 480p + 超分方案**
   - 速度快约20-30%
   - 成本更低
   - Real-ESRGAN质量已经很好，用户难以察觉差异
   - 可以灵活调整最终分辨率（720p、1080p等）

2. **如果对质量要求极高**，可以：
   - 先用480p快速生成测试
   - 确认效果后，再用720p生成最终版本

3. **混合策略**：
   - 测试阶段：480p + 超分
   - 生产阶段：根据需求选择（批量用480p，精品用720p）

---

## 🔧 切换方法

### 切换到480p模型：

1. 修改 `config.yaml`：
```yaml
hunyuanvideo:
  model_path: hunyuanvideo-community/HunyuanVideo-1.5-Diffusers-480p_i2v  # 改为480p
  width: 640   # 改为480p宽度
  height: 480  # 改为480p高度
```

2. 确保超分已启用（已在配置中）：
```yaml
postprocess:
  enabled: true
  model_path: gen_video/models/realesrgan/RealESRGAN_x2plus.pth
  model_scale: 2
  outscale: 2  # 480p × 2 = 960p（接近720p）
  target_resolution: "1280x768"  # 或 "1920x1080"
```

---

## 📝 总结

**对于商业化批量生成，推荐 480p + 超分方案：**
- ⚡ 速度快约20-30%
- 💰 成本更低
- 🎨 质量足够好（Real-ESRGAN很成熟）
- 🔧 更灵活（可调分辨率）

**如果追求极致质量，使用 720p 直接生成。**

