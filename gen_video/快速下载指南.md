# å¿«é€Ÿä¸‹è½½æŒ‡å—ï¼ˆè§£å†³ proxychains è¿æ¥é—®é¢˜ï¼‰

## ğŸš€ æ¨èä¸‹è½½æ–¹å¼

### æ–¹å¼ä¸€ï¼šä½¿ç”¨å¸¦é‡è¯•æœºåˆ¶çš„è„šæœ¬ï¼ˆæ¨èï¼‰

å¦‚æœ proxychains4 è¿æ¥ä¸ç¨³å®šï¼Œä½¿ç”¨å¸¦é‡è¯•æœºåˆ¶çš„è„šæœ¬ï¼š

```bash
cd /vepfs-dev/shawn/vid/fanren/gen_video
source /vepfs-dev/shawn/venv/py312/bin/activate

# ä¸‹è½½ SD3.5 Large Turboï¼ˆè‡ªåŠ¨é‡è¯•ï¼‰
proxychains4 python download_models_with_retry.py --model sd3-turbo

# ä¸‹è½½ Flux.1ï¼ˆå¢åŠ é‡è¯•æ¬¡æ•°ï¼‰
proxychains4 python download_models_with_retry.py --model flux1 --max-retries 10 --retry-delay 15

# ä¸‹è½½ Flux.2
proxychains4 python download_models_with_retry.py --model flux2 --max-retries 10 --retry-delay 15
```

### æ–¹å¼äºŒï¼šç›´æ¥ä¸‹è½½ï¼ˆä¸ä½¿ç”¨ proxychains4ï¼‰

å¦‚æœå¯ä»¥ç›´æ¥è®¿é—® HuggingFaceï¼Œå»ºè®®ä¸ä½¿ç”¨ proxychains4ï¼š

```bash
# ç›´æ¥ä¸‹è½½ï¼ˆæ›´å¿«ï¼Œæ›´ç¨³å®šï¼‰
python download_models_no_proxy.py --model sd3-turbo
python download_models_no_proxy.py --model flux1
python download_models_no_proxy.py --model flux2
```

### æ–¹å¼ä¸‰ï¼šä½¿ç”¨ HuggingFace é•œåƒ

å¦‚æœç½‘ç»œä¸ç¨³å®šï¼Œä½¿ç”¨é•œåƒï¼š

```bash
# è®¾ç½®é•œåƒ
export HF_ENDPOINT=https://hf-mirror.com

# ä½¿ç”¨é•œåƒä¸‹è½½
python download_models_no_proxy.py --model sd3-turbo --use-mirror
```

---

## ğŸ“‹ éœ€è¦ä¸‹è½½çš„æ¨¡å‹æ¸…å•

æ ¹æ®ä½ çš„éœ€æ±‚ï¼Œéœ€è¦ä¸‹è½½ä»¥ä¸‹æ¨¡å‹ï¼š

| æ¨¡å‹ | ç”¨é€” | å¤§å° | ä¼˜å…ˆçº§ |
|------|------|------|--------|
| **SD3.5 Large Turbo** | æé€Ÿæ‰¹é‡ç”Ÿæˆ | ~8GB | â­â­â­â­â­ |
| **Flux.1** | ä¸»æŒäººè„¸+FaceIDã€å®éªŒå®¤/åŒ»å­¦ | ~24GB | â­â­â­â­ |
| **Flux.2** | ç§‘å­¦èƒŒæ™¯å›¾ã€å¤ªç©º/ç²’å­/é‡å­ç±» | ~24GB | â­â­â­â­ |
| **Hunyuan-DiT** | ä¸­æ–‡åœºæ™¯ï¼ˆå·²å­˜åœ¨ï¼Œä½†éœ€ä¿®å¤ï¼‰ | ~28GB | â­â­â­ |
| **Kolors** | çœŸå®æ„Ÿåœºæ™¯ï¼ˆå·²å®Œæ•´ï¼‰ | ~5.4GB | âœ… å·²å®Œæˆ |

---

## ğŸ”§ è§£å†³ proxychains è¿æ¥è¶…æ—¶

### é—®é¢˜åŸå› 

`socket error or timeout!` é€šå¸¸æ˜¯å› ä¸ºï¼š
1. ä»£ç†æœåŠ¡å™¨è¿æ¥ä¸ç¨³å®š
2. HuggingFace CDN èŠ‚ç‚¹è¿æ¥é—®é¢˜
3. ç½‘ç»œæ³¢åŠ¨

### è§£å†³æ–¹æ¡ˆ

1. **ä½¿ç”¨é‡è¯•æœºåˆ¶**ï¼ˆå·²æ›´æ–°åˆ°è„šæœ¬ä¸­ï¼‰
   - è‡ªåŠ¨é‡è¯• 5-10 æ¬¡
   - æ¯æ¬¡é‡è¯•é—´éš” 10-15 ç§’
   - æ”¯æŒæ–­ç‚¹ç»­ä¼ 

2. **å‡å°‘å¹¶å‘æ•°**
   - å·²è®¾ç½® `max_workers=2`
   - é¿å…è¿‡å¤šå¹¶å‘è¿æ¥

3. **åˆ†æ‰¹ä¸‹è½½**
   - ä¸€æ¬¡åªä¸‹è½½ä¸€ä¸ªæ¨¡å‹
   - é¿å…åŒæ—¶ä¸‹è½½å¤šä¸ª

---

## ğŸ’¡ æ¨èä¸‹è½½é¡ºåº

### ç¬¬ä¸€æ­¥ï¼šä¸‹è½½ SD3.5 Large Turboï¼ˆæœ€å°ï¼Œæœ€å¿«ï¼‰

```bash
proxychains4 python download_models_with_retry.py --model sd3-turbo --max-retries 10 --retry-delay 15
```

### ç¬¬äºŒæ­¥ï¼šä¸‹è½½ Flux.1ï¼ˆä¸»æŒäººè„¸ï¼‰

```bash
proxychains4 python download_models_with_retry.py --model flux1 --max-retries 10 --retry-delay 15
```

### ç¬¬ä¸‰æ­¥ï¼šä¸‹è½½ Flux.2ï¼ˆç§‘å­¦èƒŒæ™¯å›¾ï¼‰

```bash
proxychains4 python download_models_with_retry.py --model flux2 --max-retries 10 --retry-delay 15
```

### ç¬¬å››æ­¥ï¼šä¿®å¤ Hunyuan-DiTï¼ˆå¦‚æœä¸‹è½½ä¸å®Œæ•´ï¼‰

```bash
# åˆ é™¤ä¸å®Œæ•´çš„æ–‡ä»¶
rm -rf /vepfs-dev/shawn/vid/fanren/gen_video/models/hunyuan-dit/.cache

# é‡æ–°ä¸‹è½½
proxychains4 python download_models_with_retry.py --model hunyuan-dit --max-retries 10 --retry-delay 15
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ–­ç‚¹ç»­ä¼ **: æ‰€æœ‰è„šæœ¬éƒ½æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œå¦‚æœä¸­æ–­å¯ä»¥é‡æ–°è¿è¡Œç»§ç»­ä¸‹è½½
2. **å­˜å‚¨ç©ºé—´**: ç¡®ä¿æœ‰è¶³å¤Ÿçš„å­˜å‚¨ç©ºé—´ï¼ˆçº¦ 90GB æ€»å¤§å°ï¼‰
3. **ä¸‹è½½æ—¶é—´**: å¤§æ¨¡å‹ä¸‹è½½å¯èƒ½éœ€è¦æ•°å°æ—¶ï¼Œè¯·è€å¿ƒç­‰å¾…
4. **ç½‘ç»œç¨³å®š**: å»ºè®®åœ¨ç½‘ç»œç¨³å®šæ—¶ä¸‹è½½ï¼Œé¿å…é¢‘ç¹ä¸­æ–­

---

## ğŸ¯ å¿«é€Ÿå¼€å§‹

```bash
# 1. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source /vepfs-dev/shawn/venv/py312/bin/activate

# 2. è¿›å…¥ç›®å½•
cd /vepfs-dev/shawn/vid/fanren/gen_video

# 3. ä¸‹è½½æ¨¡å‹ï¼ˆä½¿ç”¨é‡è¯•æœºåˆ¶ï¼‰
proxychains4 python download_models_with_retry.py --model sd3-turbo
```

---

**æœ€åæ›´æ–°**: 2024å¹´12æœˆ



